import{f as ht,r as c,s as vt,g as bt,h as xt,i as wt,j as gt,k as pt,l as Dt,m as jt,n as u,q as Ct,v as Pt,x as St,y as $t,z as zt,A as Et,u as Bt,B as Lt,C as Ot,D as It,E as Ft,F as Tt,o as C,c as P,a as t,t as _,G as Rt,H as Ht,d as Mt}from"./BRikjt-f.js";import{u as Nt}from"./tLZaNXOC.js";const At=e=>e==="defer"||e===!1;function Gt(...e){var D;const i=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(i);let[a,r,s={}]=e;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const o=Dt(),b=r,f=()=>null,m=()=>o.isHydrating?o.payload.data[a]:o.static.data[a];s.server=s.server??!0,s.default=s.default??f,s.getCachedData=s.getCachedData??m,s.lazy=s.lazy??!1,s.immediate=s.immediate??!0,s.deep=s.deep??ht.deep,s.dedupe=s.dedupe??"cancel";const p=()=>s.getCachedData(a,o)!=null;if(!o._asyncData[a]||!s.immediate){(D=o.payload._errors)[a]??(D[a]=null);const y=s.deep?c:vt;o._asyncData[a]={data:y(s.getCachedData(a,o)??s.default()),pending:c(!p()),error:bt(o.payload._errors,a),status:c("idle")}}const d={...o._asyncData[a]};d.refresh=d.execute=(y={})=>{if(o._asyncDataPromises[a]){if(At(y.dedupe??s.dedupe))return o._asyncDataPromises[a];o._asyncDataPromises[a].cancelled=!0}if((y._initial||o.isHydrating&&y._initial!==!1)&&p())return Promise.resolve(s.getCachedData(a,o));d.pending.value=!0,d.status.value="pending";const v=new Promise((h,l)=>{try{h(b(o))}catch(w){l(w)}}).then(async h=>{if(v.cancelled)return o._asyncDataPromises[a];let l=h;s.transform&&(l=await s.transform(h)),s.pick&&(l=Vt(l,s.pick)),o.payload.data[a]=l,d.data.value=l,d.error.value=null,d.status.value="success"}).catch(h=>{if(v.cancelled)return o._asyncDataPromises[a];d.error.value=jt(h),d.data.value=u(s.default()),d.status.value="error"}).finally(()=>{v.cancelled||(d.pending.value=!1,delete o._asyncDataPromises[a])});return o._asyncDataPromises[a]=v,o._asyncDataPromises[a]},d.clear=()=>Jt(o,a);const x=()=>d.refresh({_initial:!0}),j=s.server!==!1&&o.payload.serverRendered;{const y=Ct();if(y&&!y._nuxtOnBeforeMountCbs){y._nuxtOnBeforeMountCbs=[];const l=y._nuxtOnBeforeMountCbs;xt(()=>{l.forEach(w=>{w()}),l.splice(0,l.length)}),wt(()=>l.splice(0,l.length))}j&&o.isHydrating&&(d.error.value||p())?(d.pending.value=!1,d.status.value=d.error.value?"error":"success"):y&&(o.payload.serverRendered&&o.isHydrating||s.lazy)&&s.immediate?y._nuxtOnBeforeMountCbs.push(x):s.immediate&&x();const v=Pt();if(s.watch){const l=gt(s.watch,()=>d.refresh());v&&pt(l)}const h=o.hook("app:data:refresh",async l=>{(!l||l.includes(a))&&await d.refresh()});v&&pt(h)}const g=Promise.resolve(o._asyncDataPromises[a]).then(()=>d);return Object.assign(g,d),g}function Jt(e,i){i in e.payload.data&&(e.payload.data[i]=void 0),i in e.payload._errors&&(e.payload._errors[i]=null),e._asyncData[i]&&(e._asyncData[i].data.value=void 0,e._asyncData[i].error.value=null,e._asyncData[i].pending.value=!1,e._asyncData[i].status.value="idle"),i in e._asyncDataPromises&&(e._asyncDataPromises[i].cancelled=!0,e._asyncDataPromises[i]=void 0)}function Vt(e,i){const a={};for(const r of i)a[r]=e[r];return a}const qt=()=>{const e=St();return $t()!=="v4"&&console.warn("useStrapi4 is only available for v4"),{find:(f,m,p)=>e(`/${f}`,{method:"GET",params:m,...p}),findOne:(f,m,p,d)=>{typeof m=="object"&&(p=m,m=void 0);const x=[f,m].filter(Boolean).join("/");return e(x,{method:"GET",params:p,...d})},create:(f,m)=>e(`/${f}`,{method:"POST",body:{data:m}}),update:(f,m,p)=>{typeof m=="object"&&(p=m,m=void 0);const d=[f,m].filter(Boolean).join("/");return e(d,{method:"PUT",body:{data:p}})},delete:(f,m)=>{const p=[f,m].filter(Boolean).join("/");return e(p,{method:"DELETE"})}}},Kt=()=>qt();function Ut(e){return e.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")}function ft(e){return e.replace(/^(\d{4})(\d{1})(\d{2})$/,"$1-$2/$3")}function Qt(e){let i=e+"00";e.length<3&&(e=i.padStart(3,"0"));const a=i.slice(0,-2)+"."+i.slice(-2),s=parseFloat(a).toFixed(2).split("."),o=s[0],b=s[1];return`R$ ${o.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${b}`}const Wt=zt({id:"company_store",state:()=>({Item:null,Loading:!1}),actions:{async getItem(e){try{this.Loading=!0;const{findOne:i}=Kt(),a=await i("companies",{fields:["id","name","slug","cnpj"],filters:{cnpj:e},populate:{addresses:{fields:["id","street_type","street","number","complement","neighborhood","city","state","country","zipcode"]},company_tax_info:{fields:["cnpj","situacao_cadastral","data_situacao_cadastral","motivo_situacao_cadastral","data_inicio_atividade","matriz_filial","porte_empresa","natureza_juridica","legal_name","trading_name","capital_social"]},primary_activity:{fields:["code","description"]},secondary_activities:{fields:["code","description"]},header_objs:{fields:["title","description"]}}});return this.Item={id:a.data[0].id.toString(),name:a.data[0].attributes.name,slug:a.data[0].attributes.slug,cnpj:a.data[0].attributes.cnpj,addresses:a.data[0].attributes.addresses.data.map(r=>({id:r.id.toString(),street_type:r.attributes.street_type,street:r.attributes.street,number:r.attributes.number,complement:r.attributes.complement,neighborhood:r.attributes.neighborhood,city:r.attributes.city,state:r.attributes.state,country:r.attributes.country,zipcode:r.attributes.zipcode})),company_tax_info:{cnpj:Ut(a.data[0].attributes.company_tax_info.data.attributes.cnpj),matriz_filial:a.data[0].attributes.company_tax_info.data.attributes.matriz_filial,situacao_cadastral:a.data[0].attributes.company_tax_info.data.attributes.situacao_cadastral,data_situacao_cadastral:a.data[0].attributes.company_tax_info.data.attributes.data_situacao_cadastral,motivo_situacao_cadastral:a.data[0].attributes.company_tax_info.data.attributes.motivo_situacao_cadastral,data_inicio_atividade:a.data[0].attributes.company_tax_info.data.attributes.data_inicio_atividade,natureza_juridica:a.data[0].attributes.company_tax_info.data.attributes.natureza_juridica,porte_empresa:a.data[0].attributes.company_tax_info.data.attributes.porte_empresa,legal_name:a.data[0].attributes.company_tax_info.data.attributes.legal_name,trading_name:a.data[0].attributes.company_tax_info.data.attributes.trading_name,capital_social:Qt(a.data[0].attributes.company_tax_info.data.attributes.capital_social)},primary_activity:{code:ft(a.data[0].attributes.primary_activity.data.attributes.code),description:a.data[0].attributes.primary_activity.data.attributes.description},secondary_activities:a.data[0].attributes.secondary_activities.data.map(r=>({code:ft(r.attributes.code),description:r.attributes.description})),header_objs:{title:a.data[0].attributes.header_objs.data[0].attributes.title,description:a.data[0].attributes.header_objs.data[0].attributes.description}},this.Item}catch(i){console.log(i)}finally{this.Loading=!1}}}}),Xt={class:"w-full"},Yt={id:"company_info",class:"w-full pb-2"},Zt={class:"relative max-w-screen-xl px-4 sm:px-8 mx-auto overflow-hidden"},kt={class:"font-bold"},ta={id:"company_summary",class:"mt-6 w-2/3 border-b"},aa=t("h2",{class:"font-bold my-2"},"Resumo da Empresa",-1),ea={id:"company_more_info",class:"mt-6 w-2/3 border-b"},sa=t("h2",{class:"font-bold my-6"},"Outras Informações",-1),oa={class:"my-2"},ia={class:"flex flex-col flex-wrap gap-2"},na={class:"flex flex-row"},ca=t("dt",{class:"font-semibold w-32"},"Nome Fantasia:",-1),da={class:"font-normal w-auto"},ra={class:"flex flex-row"},la=t("dt",{class:"font-semibold w-32"},"Data Fundação:",-1),_a={class:"font-normal w-auto"},ua={id:"company_irs_summary",class:"mt-6 w-2/3 border-b"},ma=t("h2",{class:"font-bold my-6"},[Mt("Informações Receita Federal "),t("span",{class:"font-light text-sm italic"},"Atualizado em 24/04/2024")],-1),pa={class:"my-2"},fa={class:"flex flex-col flex-wrap gap-2"},ya={class:"flex flex-row"},ha=t("dt",{class:"font-semibold w-32"},"Tipo:",-1),va={class:"font-normal w-auto"},ba={class:"flex flex-row"},xa=t("dt",{class:"font-semibold w-32"},"Status:",-1),wa={class:"font-normal w-auto"},ga={class:"flex flex-row"},Da=t("dt",{class:"font-semibold w-32"},"Capital Social:",-1),ja={class:"font-normal w-auto"},Ca={id:"company_address_info",class:"w-full pb-2"},Pa={class:"relative max-w-screen-xl px-4 sm:px-8 mx-auto overflow-hidden"},Sa=t("h2",{class:"font-bold my-6"},"Localização",-1),$a={class:"my-2"},za={class:"flex flex-col flex-wrap gap-2"},Ea={class:"flex flex-row"},Ba=t("dt",{class:"font-semibold w-40"},"Endereço:",-1),La={class:"w-auto"},Oa={class:"flex flex-row"},Ia=t("dt",{class:"font-semibold w-40"},"Complemento:",-1),Fa={class:"w-auto"},Ta={class:"flex flex-row"},Ra=t("dt",{class:"font-semibold w-40"},"Bairro:",-1),Ha={class:"w-auto"},Ma={class:"flex flex-row"},Na=t("dt",{class:"font-semibold w-40"},"Município:",-1),Aa={class:"w-auto"},Ga={class:"flex flex-row"},Ja=t("dt",{class:"font-semibold w-40"},"Estado:",-1),Va={class:"w-auto"},qa={class:"flex flex-row"},Ka=t("dt",{class:"font-semibold w-40"},"País:",-1),Ua={class:"w-auto"},Qa={class:"flex flex-row"},Wa=t("dt",{class:"font-semibold w-40"},"Código Postal:",-1),Xa={class:"w-auto"},Ya={id:"company_activity_info",class:"w-full pb-2"},Za={class:"relative max-w-screen-xl px-4 sm:px-8 mx-auto overflow-hidden"},ka=t("h2",{class:"font-bold my-6"},"Atividades",-1),te=t("h3",{class:"font-semibold my-2"},"Atividade Principal",-1),ae=t("h3",{class:"font-semibold my-2"},"Atividades Secundárias",-1),ee={class:"my-1"},de=Et({__name:"[id]",async setup(e){var H,M,N,A,G,J,V,q,K,U,Q,W,X,Y,Z,k,tt,at,et,st,ot,it,nt,ct,dt,rt,lt,_t,ut;let i,a;const r=c(""),s=c(""),o=c(""),b=c(""),f=c("");Bt({titleTemplate:r,meta:[{name:"description",content:s},{property:"og:title",content:o},{property:"og:description",content:s},{property:"twitter:title",content:o},{property:"twitter:description",content:s}]});const m=Lt(()=>[{"@type":"ListItem",position:1,name:"Home",item:"https://ccnpj.com"},{"@type":"ListItem",position:2,name:"Empresas",item:"https://ccnpj.com/empresas"},{"@type":"ListItem",position:3,name:b.value,item:f.value}]),p=c({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[]});Ot(()=>{p.value.itemListElement=m.value}),Nt(p);const d=c(""),x=c(""),j=c(""),g=c(""),D=c(""),y=c(""),v=c(""),h=c(""),l=c(""),w=c(""),S=c(""),$=c(""),z=c(""),E=c(""),B=c(""),L=c(""),O=c(""),I=c(""),F=c(""),T=c([]),yt=Wt(),R=It().params.id,{data:n}=([i,a]=Ft(()=>Gt(`company:${R}`,()=>yt.getItem(R))),i=await i,a(),i);return w.value=((H=n.value)==null?void 0:H.addresses[0].street_type)+" "+((M=n.value)==null?void 0:M.addresses[0].street),S.value=(N=n.value)==null?void 0:N.addresses[0].number,$.value=(A=n.value)==null?void 0:A.addresses[0].complement,z.value=(G=n.value)==null?void 0:G.addresses[0].neighborhood,E.value=(J=n.value)==null?void 0:J.addresses[0].city,B.value=(V=n.value)==null?void 0:V.addresses[0].state,L.value=(q=n.value)==null?void 0:q.addresses[0].country,O.value=(K=n.value)==null?void 0:K.addresses[0].zipcode,j.value=(U=n.value)==null?void 0:U.company_tax_info.cnpj,d.value=(Q=n.value)==null?void 0:Q.company_tax_info.trading_name,x.value=(W=n.value)==null?void 0:W.company_tax_info.legal_name,v.value=(X=n.value)==null?void 0:X.company_tax_info.capital_social,l.value=(Y=n.value)==null?void 0:Y.company_tax_info.matriz_filial,h.value=(Z=n.value)==null?void 0:Z.company_tax_info.situacao_cadastral,g.value=(k=n.value)==null?void 0:k.company_tax_info.data_inicio_atividade,r.value=(tt=n.value)==null?void 0:tt.header_objs.title,o.value=(at=n.value)==null?void 0:at.header_objs.title,s.value=(et=n.value)==null?void 0:et.header_objs.description,b.value=(st=n.value)==null?void 0:st.header_objs.title,f.value="https://ccnpj.com/empresas/"+((ot=n.value)==null?void 0:ot.cnpj),D.value=`${(it=n.value)==null?void 0:it.company_tax_info.legal_name} localizada na cidade de ${(nt=n.value)==null?void 0:nt.addresses[0].city} no estado de ${(ct=n.value)==null?void 0:ct.addresses[0].state} iniciou suas atividades em ${(dt=n.value)==null?void 0:dt.company_tax_info.data_inicio_atividade}.`,y.value=`A empresa tem como atividade principal ${(rt=n.value)==null?void 0:rt.primary_activity.description}.`,I.value=(lt=n.value)==null?void 0:lt.primary_activity.code,F.value=(_t=n.value)==null?void 0:_t.primary_activity.description,T.value=(ut=n.value)==null?void 0:ut.secondary_activities,Tt(async()=>{}),(oe,ie)=>(C(),P("div",Xt,[t("section",Yt,[t("div",Zt,[t("h1",kt,_(u(x))+" - "+_(u(j)),1),t("section",ta,[aa,t("p",null,_(u(D))+" "+_(u(y)),1)]),t("section",ea,[sa,t("dl",oa,[t("dd",null,[t("dl",ia,[t("div",na,[ca,t("dd",da,_(u(d)),1)]),t("div",ra,[la,t("dd",_a,_(u(g)),1)])])])])]),t("section",ua,[ma,t("dl",pa,[t("dd",null,[t("dl",fa,[t("div",ya,[ha,t("dd",va,_(u(l)),1)]),t("div",ba,[xa,t("dd",wa,_(u(h)),1)]),t("div",ga,[Da,t("dd",ja,_(u(v)),1)])])])])])])]),t("section",Ca,[t("div",Pa,[Sa,t("dl",$a,[t("dd",null,[t("dl",za,[t("div",Ea,[Ba,t("dd",La,_(u(w))+", "+_(u(S)),1)]),t("div",Oa,[Ia,t("dd",Fa,_(u($)),1)]),t("div",Ta,[Ra,t("dd",Ha,_(u(z)),1)]),t("div",Ma,[Na,t("dd",Aa,_(u(E)),1)]),t("div",Ga,[Ja,t("dd",Va,_(u(B)),1)]),t("div",qa,[Ka,t("dd",Ua,_(u(L)),1)]),t("div",Qa,[Wa,t("dd",Xa,_(u(O)),1)])])])])])]),t("section",Ya,[t("div",Za,[ka,te,t("p",null,_(u(I))+" : "+_(u(F)),1),ae,(C(!0),P(Rt,null,Ht(u(T),mt=>(C(),P("p",ee,_(mt.code)+" : "+_(mt.description),1))),256))])])]))}});export{de as default};
